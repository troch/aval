/**
 * @license
 * @version 0.1.2
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015 Thomas Roch
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function(r){function n(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}else{return Array.from(r)}}function t(r){return r!==undefined&&r!==null}function e(r){return function n(n){if(!t(n))return true;if(r==="date")return n instanceof Date;if(r==="set")return n instanceof Set;if(r==="array")return Array.isArray(n);if(r==="object"){return!Array.isArray(n)&&typeof n==="object"&&!(n instanceof Set)}return typeof n===r}}function u(r){if(!t(r)||r.length===0)return false;if(typeof r==="object")return Object.keys(r).length!==0;return true}function i(r,n){if(!t(n))return null;return n>r}function a(r,n){if(!t(n))return null;return n>=r}function f(r,n){if(!t(n))return null;return n<r}function o(r,n){if(!t(n))return null;return n<=r}function l(r,n){if(!t(n))return null;return n.length<=r}function c(r,n){if(!t(n))return null;return n.length>=r}function s(r,n){if(!t(n))return null;if(typeof n!=="object")return false;return Object.keys(n).length<=r}function v(r,n){if(!t(n))return null;if(typeof n!=="object")return false;return Object.keys(n).length>=r}function y(r,n){return r.test(n)}function d(r,n){if(!t(n))return null;if(r instanceof Set)return r.has(n);return r.indexOf(n)!==-1}function h(r,n){if(!t(n))return null;if(r instanceof Set)return!r.has(n);return r.indexOf(n)===-1}function p(r,n){if(!t(n))return null;if(n instanceof Set)return n.has(r);return n.indexOf(r)!==-1}function b(r,n){if(!t(n))return null;if(n instanceof Set)return!n.has(r);return n.indexOf(r)===-1}function g(r,n){if(!t(n))return null;return r===n}function m(r,n,e){var u=t(e)?e[r]:null;return[r,n.validate(u)]}function j(r,e){if(!t(e)||!e.length)return null;var u=[].concat(n(e)).map(function(n){return r.validate(n)});return[u.every(function(r){return r.valid}),u]}var w={required:u,gt:i,gte:a,lt:f,lte:o,max:l,min:c,maxKeys:s,minKeys:v,pattern:y,inList:d,notInList:h,withElm:p,withoutElm:b,exactly:g,prop:m,every:j};var O=["string","number","boolean","array","object","date","set"];O.forEach(function(r){return w[r]=e(r)});var A=function(){function r(r,n){var t=[];var e=true;var u=false;var i=undefined;try{for(var a=r[Symbol.iterator](),f;!(e=(f=a.next()).done);e=true){t.push(f.value);if(n&&t.length===n)break}}catch(o){u=true;i=o}finally{try{if(!e&&a["return"])a["return"]()}finally{if(u)throw i}}return t}return function(n,t){if(Array.isArray(n)){return n}else if(Symbol.iterator in Object(n)){return r(n,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var k=function(){function r(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(r,e.key,e)}}return function(n,t,e){if(t)r(n.prototype,t);if(e)r(n,e);return n}}();function x(r,n){if(!(r instanceof n)){throw new TypeError("Cannot call a class as a function")}}function S(r,n){if(w[r])throw new Error('Validator named "'+r+'" already exists');w[r]=n}var E=function(){function r(){var n=this;x(this,r);this.validators=[];Object.keys(w).forEach(function(r){var t=n;n[r]=function(){var n=Array.prototype.slice.call(arguments);t.validators.push([r,Function.prototype.bind.apply(w[r],[null].concat(n))]);return t}})}k(r,[{key:"validate",value:function n(r){var n=this.validators.filter(function(r){return!/^(prop|every)$/.test(r[0])});var t=n.length?n.reduce(function(n,t){var e=t[1](r);if(e!==null)n[t[0]]=!e;return n},{}):{};var e=this.validators.filter(function(r){return r[0]==="every"});var u=null;if(e.length){var i=e[0][1](r);if(i!==null){t.every=!i[0];u=i[1]}else u=[]}var a=this.validators.filter(function(r){return r[0]==="prop"});var f=a.length?a.reduce(function(n,t){var e=t[1](r);var u=A(e,2);var i=u[0];var a=u[1];n[i]=a;return n},{}):{};var o=Object.keys(t).every(function(r){return t[r]===false})&&Object.keys(f).every(function(r){return f[r].valid===true});var l={valid:o};if(n.length)l.errors=t;if(a.length)l.props=f;if(u!==null)l.elements=u;return l}}]);return r}();var I=function I(){return new E};I.addValidator=S;I.Validators=w;r.Izit=I})(window);