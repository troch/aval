/**
 * @license
 * @version 0.1.0-alpha.1
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015 Thomas Roch
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
define("izit",[],function(){function r(r){return r!==undefined&&r!==null}function n(n){return function t(t){if(!r(t))return true;if(n==="date")return t instanceof Date;if(n==="set")return t instanceof Set;if(n==="array")return Array.isArray(t);if(n==="object"){return!Array.isArray(t)&&typeof t==="object"&&!(t instanceof Set)}return typeof t===n}}function t(n){if(!r(n)||n.length===0)return false;if(typeof n==="object")return Object.keys(n).length!==0;return true}function e(n,t){if(!r(t))return null;return t>n}function u(n,t){if(!r(t))return null;return t>=n}function i(n,t){if(!r(t))return null;return t<n}function a(n,t){if(!r(t))return null;return t<=n}function f(n,t){if(!r(t))return null;return t.length<=n}function l(n,t){if(!r(t))return null;return t.length>=n}function o(n,t){if(!r(t))return null;if(typeof t!=="object")return false;return Object.keys(t).length<=n}function c(n,t){if(!r(t))return null;if(typeof t!=="object")return false;return Object.keys(t).length>=n}function s(r,n){return r.test(n)}function v(n,t){if(!r(t))return null;if(n instanceof Set)return n.has(t);return n.indexOf(t)!==-1}function y(n,t){if(!r(t))return null;if(n instanceof Set)return!n.has(t);return n.indexOf(t)===-1}function d(n,t){if(!r(t))return null;if(t instanceof Set)return t.has(n);return t.indexOf(n)!==-1}function h(n,t){if(!r(t))return null;if(t instanceof Set)return!t.has(n);return t.indexOf(n)===-1}function p(n,t){if(!r(t))return null;return n===t}function b(n,t,e){var u=r(e)?e[n]:null;return[n,t.validate(u)]}function g(n,t){if(!r(t)||!t.length)return null;var e=t.map(function(r){return n.validate(r)});return[e.every(function(r){return r.valid}),e]}var m={required:t,gt:e,gte:u,lt:i,lte:a,max:f,min:l,maxKeys:o,minKeys:c,pattern:s,inList:v,notInList:y,withElm:d,withoutElm:h,exactly:p,prop:b,every:g};var j=["string","number","boolean","array","object","date","set"];j.forEach(function(r){return m[r]=n(r)});var O=function(){function r(r,n){var t=[];var e=true;var u=false;var i=undefined;try{for(var a=r[Symbol.iterator](),f;!(e=(f=a.next()).done);e=true){t.push(f.value);if(n&&t.length===n)break}}catch(l){u=true;i=l}finally{try{if(!e&&a["return"])a["return"]()}finally{if(u)throw i}}return t}return function(n,t){if(Array.isArray(n)){return n}else if(Symbol.iterator in Object(n)){return r(n,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var w=function(){function r(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(r,e.key,e)}}return function(n,t,e){if(t)r(n.prototype,t);if(e)r(n,e);return n}}();function k(r,n){if(!(r instanceof n)){throw new TypeError("Cannot call a class as a function")}}function x(r,n){if(m[r])throw new Error('Validator named "'+r+'" already exists');m[r]=n}var S=function(){function r(){var n=this;k(this,r);this.validators=[];Object.keys(m).forEach(function(r){var t=n;n[r]=function(){var n=Array.prototype.slice.call(arguments);t.validators.push([r,Function.prototype.bind.apply(m[r],[null].concat(n))]);return t}})}w(r,[{key:"validate",value:function n(r){var n=this.validators.filter(function(r){return!/^(prop|every)$/.test(r[0])});var t=n.length?n.reduce(function(n,t){var e=t[1](r);if(e!==null)n[t[0]]=!e;return n},{}):{};var e=this.validators.filter(function(r){return r[0]==="every"});var u=null;if(e.length){var i=e[0][1](r);if(i!==null){t.every=!i[0];u=i[1]}else u=[]}var a=this.validators.filter(function(r){return r[0]==="prop"});var f=a.length?a.reduce(function(n,t){var e=t[1](r);var u=O(e,2);var i=u[0];var a=u[1];n[i]=a;return n},{}):{};var l=Object.keys(t).every(function(r){return t[r]===false})&&Object.keys(f).every(function(r){return f[r].valid===true});var o={valid:l};if(n.length)o.errors=t;if(a.length)o.props=f;if(u!==null)o.elements=u;return o}}]);return r}();var A=function A(){return new S};A.addValidator=x;A.Validators=m;return{Izit:A}});