/**
 * @license
 * @version 0.1.3
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015 Thomas Roch
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
define("aval",[],function(){function r(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}else{return Array.from(r)}}function n(r){return r!==undefined&&r!==null}function t(r){return function t(t){if(!n(t))return true;if(r==="date")return t instanceof Date;if(r==="set")return t instanceof Set;if(r==="array")return Array.isArray(t);if(r==="object"){return!Array.isArray(t)&&typeof t==="object"&&!(t instanceof Set)}return typeof t===r}}function e(r){if(!n(r)||r.length===0)return false;if(typeof r==="object")return Object.keys(r).length!==0;return true}function u(r,t){if(!n(t))return null;return t>r}function i(r,t){if(!n(t))return null;return t>=r}function a(r,t){if(!n(t))return null;return t<r}function f(r,t){if(!n(t))return null;return t<=r}function l(r,t){if(!n(t))return null;return t.length<=r}function o(r,t){if(!n(t))return null;return t.length>=r}function c(r,t){if(!n(t))return null;if(typeof t!=="object")return false;return Object.keys(t).length<=r}function s(r,t){if(!n(t))return null;if(typeof t!=="object")return false;return Object.keys(t).length>=r}function v(r,n){return r.test(n)}function y(r,t){if(!n(t))return null;if(r instanceof Set)return r.has(t);return r.indexOf(t)!==-1}function d(r,t){if(!n(t))return null;if(r instanceof Set)return!r.has(t);return r.indexOf(t)===-1}function h(r,t){if(!n(t))return null;if(t instanceof Set)return t.has(r);return t.indexOf(r)!==-1}function p(r,t){if(!n(t))return null;if(t instanceof Set)return!t.has(r);return t.indexOf(r)===-1}function b(r,t){if(!n(t))return null;return r===t}function g(r,t,e){var u=n(e)?e[r]:null;return[r,t.validate(u)]}function m(t,e){if(!n(e)||!e.length)return null;var u=[].concat(r(e)).map(function(r){return t.validate(r)});return[u.every(function(r){return r.valid}),u]}var j={required:e,gt:u,gte:i,lt:a,lte:f,max:l,min:o,maxKeys:c,minKeys:s,pattern:v,inList:y,notInList:d,withElm:h,withoutElm:p,exactly:b,prop:g,every:m};var A=["string","number","boolean","array","object","date","set"];A.forEach(function(r){return j[r]=t(r)});var O=function(){function r(r,n){var t=[];var e=true;var u=false;var i=undefined;try{for(var a=r[Symbol.iterator](),f;!(e=(f=a.next()).done);e=true){t.push(f.value);if(n&&t.length===n)break}}catch(l){u=true;i=l}finally{try{if(!e&&a["return"])a["return"]()}finally{if(u)throw i}}return t}return function(n,t){if(Array.isArray(n)){return n}else if(Symbol.iterator in Object(n)){return r(n,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var w=function(){function r(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(r,e.key,e)}}return function(n,t,e){if(t)r(n.prototype,t);if(e)r(n,e);return n}}();function k(r,n){if(!(r instanceof n)){throw new TypeError("Cannot call a class as a function")}}function x(r,n){if(j[r])throw new Error('Validator named "'+r+'" already exists');j[r]=n}var S=function(){function r(){var n=this;k(this,r);this.validators=[];Object.keys(j).forEach(function(r){var t=n;n[r]=function(){var n=Array.prototype.slice.call(arguments);t.validators.push([r,Function.prototype.bind.apply(j[r],[null].concat(n))]);return t}})}w(r,[{key:"validate",value:function n(r){var n=this.validators.filter(function(r){return!/^(prop|every)$/.test(r[0])});var t=n.length?n.reduce(function(n,t){var e=t[1](r);if(e!==null)n[t[0]]=!e;return n},{}):{};var e=this.validators.filter(function(r){return r[0]==="every"});var u=null;if(e.length){var i=e[0][1](r);if(i!==null){t.every=!i[0];u=i[1]}else u=[]}var a=this.validators.filter(function(r){return r[0]==="prop"});var f=a.length?a.reduce(function(n,t){var e=t[1](r);var u=O(e,2);var i=u[0];var a=u[1];n[i]=a;return n},{}):{};var l=Object.keys(t).every(function(r){return t[r]===false})&&Object.keys(f).every(function(r){return f[r].valid===true});var o={valid:l};if(n.length)o.errors=t;if(a.length)o.props=f;if(u!==null)o.elements=u;return o}}]);return r}();var E=function E(){return new S};E.addValidator=x;E.Validators=j;return{Aval:E}});